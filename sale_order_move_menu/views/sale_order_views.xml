<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_stock_move_move_menu" model="ir.actions.act_window">
        <field name="name">Sale Moves</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">stock.move</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="stock_move_move_menu_search"/>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('stock_move_move_menu_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('stock.view_move_form')})]"/>
        <field name="domain">[('sale_line_id','!=', False), ('state','=', 'done')]</field>
        <!-- <field name="domain">['|', ('location_id.usage','=', 'customer'), ('location_dest_id.usage','=', 'customer'), ('state','=', 'done')]</field> -->
        <field name="context">{
            "search_default_filter_date": 1,
        }</field>
    </record>

    <menuitem 
        id="menu_sale_order_sale_moves"
        name="Sale Moves" 
        action="action_stock_move_move_menu"
        parent="sale.product_menu_catalog"
        sequence="3"
        groups="stock.group_stock_user"
    />

</odoo>
